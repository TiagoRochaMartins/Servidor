<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Servidor WEB</title>
</head>

<body>
  <img src="https://github.com/TiagoRochaMartins/server2test/blob/main/imagens/ipg2.jpeg?raw=true" height="200"
    width="300" />
  <h1>Segunda Página</h1>
  <h4> <a href ="https://politecnicoguarda.pt/">Página Principal do IPG</a></h4>
  <h4> <a href ="https://moodle.ipg.pt/">Moodle do IPG</a></h4>
  <h4> <a href ="https://cloud.sysnovare.pt/ipg/si_main">Sigarra do IPG</a></h4>

  <script>
    function abrirPagina3() {  
        window.location.href =  "/ficheiro3.html";
      }
  </script>
  <style>
    body {
      margin: 0;
      padding-bottom: 50px;
    }
    footer {
      position: fixed;
      left: 0;
      bottom: 0;
      width: 100%;
      height: 30px;
      background-color: #000000;
      text-align: right;
      line-height: 30px;
    }
  </style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.4.0/socket.io.js"></script>

<div id="chatbox">
  <ul id="messages"></ul>
  <form id="message-form">
    <input type="text" id="input-message" placeholder="Escreva sua mensagem...">
    <button type="submit">Enviar</button>
  </form>
</div>

<script>
  // Conecta-se ao servidor WebSocket
  const socket = io();

  // Seleciona os elementos do HTML
  const messageForm = document.getElementById('message-form');
  const messageInput = document.getElementById('input-message');
  const messagesList = document.getElementById('messages');

  // Manipulador de evento para envio de mensagens
  messageForm.addEventListener('submit', function(event) {
    event.preventDefault(); // Impede o envio do formulário

    const messageText = messageInput.value; // Obtém o texto da mensagem

    if (messageText.trim() !== '') {
      const messageItem = document.createElement('li'); // Cria um novo item da lista
      messageItem.textContent = messageText; // Define o texto da mensagem

      messagesList.appendChild(messageItem); // Adiciona a mensagem à lista

      messageInput.value = ''; // Limpa o campo de entrada de mensagens

      // Envia a mensagem para o servidor via WebSocket
      socket.emit('message', messageText);
    }
  });

  // Manipulador de evento para receber mensagens do servidor
  socket.on('message', (message) => {
    const messageItem = document.createElement('li'); // Cria um novo item da lista
    messageItem.textContent = message; // Define o texto da mensagem

    messagesList.appendChild(messageItem); // Adiciona a mensagem à lista
  });
</script>



  <footer style="color: gold; display: flex; justify-content: space-between;">
    <div>
      <a href="/" style="color: gold; font-family: Arial, sans-serif; text-decoration: none;">Voltar para ao Início</a>&ensp;
      <a href="#" onclick="abrirPagina3()" style="color: gold; font-family: Arial, sans-serif; text-decoration: none;">Abrir Página 3</a> &ensp;
    </div>
    <div>
      <b>Teste do servidor realizado por Tiago Martins Nº1706775 Pág:2</b>
    </div>
  </footer>
</body>
</html>